{"version":3,"sources":["assets/book-cover.jpg","components/playfield/playfield.tsx","util/angles.ts","util/vectors.ts","components/controls/character-controls.tsx","components/controls/controls.tsx","util/hooks.ts","pages/landing/landing.css.ts","models/character.ts","assets/character-circle.png","apps/base-app.ts","util/steering.ts","util/random.ts","util/update.ts","assets/spidy-avatar.png","apps/wander-app.ts","pages/landing/landing.tsx","pages/explore/explore.css.ts","pages/explore/explore.data.ts","pages/explore/explore.tsx","pages/playground/playground.tsx","assets/villain-avatar.png","apps/seek-app.ts","apps/flee-app.ts","apps/arrive-app.ts","pages/algorithm/algorithm.tsx","pages/algorithm/wander-algorithm.tsx","pages/algorithm/seek-algorithm.tsx","pages/algorithm/flee-algorithm.tsx","pages/algorithm/arrive-algorithm.tsx","assets/icons/home.svg","assets/icons/explore.svg","assets/icons/playground.svg","index.tsx"],"names":["Playfield","props","app","elRef","useRef","useEffect","size","current","parentElement","getBoundingClientRect","pixiApp","PIXI","width","height","transparent","appendChild","view","registerPixiApp","unregisterPixiApp","destroy","ref","getPreferredRotationDirection","currentDegrees","targetDegrees","console","log","rotation","Math","abs","getShortestRotation","add","v1","v2","_addS","length","Error","_addV","sub","map","v","mult","_multS","_multV","div","sqrt","reduce","sum","value","i","s","normalize","vector","magnitude","val","orientationAsVector","orientation","radians","PI","cos","sin","vectorAsOrientation","velocity","atan2","CharacterControls","character","controlsRef","isMounted","positionDOM","getElementsByClassName","velocityDOM","orientationDOM","maxSpeedDOM","maxRotationDOM","updateText","position","round","textContent","String","maxSpeed","maxRotation","requestAnimationFrame","style","display","gridTemplateColumns","gap","className","type","min","max","onChange","e","newMaxSpeed","parseInt","currentTarget","isNaN","newMaxRotation","Controls","rerender","useState","setCount","c","useRerender","lastStatus","isRunning","triggerUpdate","padding","backgroundColor","color","fontSize","disabled","onClick","play","pause","reset","step","characters","id","Position","HeaderSection","styled","section","BookCoverImg","img","DemoSection","PlaygroundContainer","ControlsContainer","Character","options","_container","_avatar","_circle","_position","_orientation","_rotation","_velocity","_maxSpeed","_maxRotation","this","uuid","from","avatarUrl","x","y","anchor","set","angle","hideRotation","alpha","addChild","floor","setPosition","CENTER","TOP","BOTTOM","includes","TOP_RIGHT","RIGHT","BOTTOM_RIGHT","LEFT","BOTTOM_LEFT","BaseApp","_isRunning","_pixiApp","_characters","_scale","tick","tickWrapper","delta","ticker","elapsedMS","screen","stage","postRegister","remove","self","container","onDragStart","event","isDragging","onDragEnd","onDragMove","newPosition","data","getLocalPosition","targetDirection","targetOrientation","interactive","buttonMode","on","wander","linear","angular","random","seek","target","seekWithRotation","direction","rotationDirection","flee","fleeWithRotation","arrive","stopRadius","timeToTarget","distance","arriveWithRotation","kinematicUpdate","steering","clampKinematics","keepOnScreenWithSeamless","keepOnScreenWithBlock","left","right","top","bottom","WanderApp","_spidy","TOP_LEFT","force","LandingPage","wanderApp","src","bookCover","alt","Grid","AlgorithmCard","article","CardLink","Link","Data","sections","title","articles","url","details","code","ExplorePage","Fragment","j","to","PlaygroundPage","SeekApp","_villain","spidyAvatarUrl","villainAvatarUrl","makeInteractable","SeekWithRotationApp","FleeApp","FleeWithRotationApp","ArriveApp","_stopCircle","_options","Graphics","lineStyle","drawCircle","ArriveWithRotationApp","algMap","Map","seekApp","seekWithRotationApp","fleeApp","fleeWithRotationApp","arriveApp","arriveWithRotationApp","AlgorithmPage","algorithm","useParams","has","Algorithm","get","LeftNavigation","Content","NavIcon","NavLink","ReactDOM","render","StrictMode","homeIcon","exploreIcon","playgroundIcon","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.beacce5d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/book-cover.905d2abc.jpg\";","import { useRef, useEffect } from 'react';\nimport * as PIXI from \"pixi.js\";\nimport { App } from '../../models/app';\n\nexport type PlayfieldProps = {\n    app: App\n};\n\nexport function Playfield(props: PlayfieldProps) {\n    const { app } = props;\n    const elRef = useRef<HTMLDivElement>(null);\n    \n    useEffect(() => {\n            let size = elRef.current!.parentElement!.getBoundingClientRect();\n            const pixiApp = new PIXI.Application({\n                width: size.width,\n                height: size.height,\n                transparent: true\n            });\n\n            elRef.current!.appendChild(pixiApp.view);\n            app.registerPixiApp(pixiApp);\n\n            return () => {\n                app.unregisterPixiApp();\n                pixiApp.destroy(true);\n            };\n    }, [app]);\n\n    return (\n        <div ref={elRef} />\n    );\n}\n","export function degreesAsRadians(degrees: number) {\n    return degrees * Math.PI / 180;\n}\n\nexport function radiansAsDegrees(radians: number) {\n    return radians * 180 / Math.PI;\n}\n\nexport function getShortestRotation(currentDegrees: number, targetDegrees: number) {\n    console.log('current orientation and target', currentDegrees, targetDegrees);\n    let rotation = targetDegrees - currentDegrees;\n    console.log('original desired rotation: ', rotation);\n    if (Math.abs(rotation) > 180) {\n        console.log('adjusting');\n        let adjust = rotation > 0 ? -360 : 360;\n        rotation += adjust;\n    }\n\n    console.log('desired rotation: ', rotation);\n    return rotation;\n}\n\nexport function getPreferredRotationDirection(currentDegrees: number, targetDegrees: number) {\n    let rotation = getShortestRotation(currentDegrees, targetDegrees);\n    return rotation > 0 ? 1 : -1;\n}\n","import { Vector, VectorLike } from '../types';\nimport { degreesAsRadians, radiansAsDegrees } from './angles';\n\nexport function add(v1: Vector, v2: VectorLike) {\n    if (typeof v2 === 'number') {\n        return _addS(v1, v2);\n    }\n  \n    if (v1.length !== v2.length) {\n        throw new Error(\"Cannot add two vectors of different shapes\");\n    }\n\n    return _addV(v1, v2);\n  }\n\nexport function sub(v1: Vector, v2: VectorLike) {\n    if (typeof v2 === 'number') {\n        return _addS(v1, -v2);\n    }\n\n    if (v1.length !== v2.length) {\n        throw new Error(\"Cannot add two vectors of different shapes\");\n    }\n\n    let v2Neg = v2.map((v) => -v);\n    return _addV(v1, v2Neg);\n  }\n\nexport function mult(v1: Vector, v2: VectorLike) {\n    if (typeof v2 === 'number') {\n        return _multS(v1, v2);\n    }\n\n    if (v1.length !== v2.length) {\n        throw new Error(\"Cannot add two vectors of different shapes\");\n    }\n\n    return _multV(v1, v2);\n}\n\nexport function div(v1: Vector, v2: VectorLike) {\n    if (typeof v2 === 'number') {\n      return _multS(v1, 1 / v2);\n    }\n\n    if (v1.length !== v2.length) {\n      throw new Error(\"Cannot add two vectors of different shapes\");\n    }\n\n    let v2Inv = v2.map((v) => 1 / v);\n    return _multV(v1, v2Inv);\n}\n\nexport function length(v: Vector) {\n  return Math.sqrt(v.reduce((sum, value) => sum + value ** 2, 0));\n}\n\nfunction _addV(v1: Vector, v2: Vector) {\n  return v1.map((v, i) => v + v2[i]);\n}\n\nfunction _addS(v1: Vector, s: number) {\n  return v1.map((v) => v + s);\n}\n\nfunction _multV(v1: Vector, v2: Vector) {\n  return v1.map((v, i) => v * v2[i]);\n}\n\nfunction _multS(v1: Vector, s: number) {\n  return v1.map((v) => v * s);\n}\n\nexport function normalize(vector: Vector) {\n  let magnitude = length(vector);\n  return vector.map(val => val / magnitude);\n}\n\nexport function orientationAsVector(orientation: number) {\n  const radians = degreesAsRadians(orientation);\n  return [\n    Math.cos(radians),\n    -Math.sin(radians)\n  ];\n}\n\nexport function vectorAsOrientation(velocity: Vector, current: number) {\n  if (length(velocity) === 0) {\n    return current;\n  }\n\n  return radiansAsDegrees(Math.atan2(-velocity[1], velocity[0]));\n}\n  ","import { useEffect, useRef } from \"react\";\nimport round from \"lodash/round\";\nimport { length } from \"../../util/vectors\";\nimport { Character } from '../../models/character';\n\nexport type CharacterControlsProps = {\n    character: Character;\n};\n\nexport function CharacterControls(props: CharacterControlsProps) {\n    const { character } = props;\n    const controlsRef = useRef<HTMLDivElement>(null);\n\n    const updateMaxSpeed = (e: React.FormEvent<HTMLInputElement>) => {\n        let newMaxSpeed = parseInt(e.currentTarget.value);\n        if (isNaN(newMaxSpeed)) return;\n        character.maxSpeed = newMaxSpeed;\n    };\n\n    const updateMaxRotation = (e: React.FormEvent<HTMLInputElement>) => {\n        let newMaxRotation = parseInt(e.currentTarget.value);\n        if (isNaN(newMaxRotation)) return;\n        character.maxRotation = newMaxRotation;\n    };\n\n    useEffect(() => {\n        let isMounted = true;\n\n        const positionDOM = controlsRef.current!.getElementsByClassName('position')[0]!;\n        const velocityDOM = controlsRef.current!.getElementsByClassName('velocity')[0]!;\n        const orientationDOM = controlsRef.current!.getElementsByClassName('orientation')[0]!;\n        const maxSpeedDOM = controlsRef.current!.getElementsByClassName('maxSpeed')[0]! as HTMLInputElement;\n        const maxRotationDOM = controlsRef.current!.getElementsByClassName('maxRotation')[0]! as HTMLInputElement;\n\n        function updateText() {\n            if (!isMounted) return;\n\n            const position = `${round(character.position[0], 1)}, ${round(character.position[1], 1)}`;\n            const velocity = `${round(length(character.velocity), 2)} - (${round(character.velocity[0], 2)}, ${round(character.velocity[1], 2)})`;\n            const orientation = round(character.orientation, 1);\n\n            positionDOM.textContent = position;\n            velocityDOM.textContent = velocity;\n            orientationDOM.textContent = String(orientation);\n            maxSpeedDOM.value = String(character.maxSpeed);\n            maxRotationDOM.value = String(character.maxRotation);\n\n            requestAnimationFrame(updateText);\n        }\n\n        updateText();\n\n        return () => {\n            isMounted = false;\n        }\n    }, [character]);\n\n    return (\n        <div ref={controlsRef} style={{ display: 'grid', gridTemplateColumns: 'auto 1fr', gap: '1rem' }}>\n            <label>Position</label>\n            <span className=\"position\">0, 0</span>\n            \n            <label>Velocity</label>\n            <span className=\"velocity\">0 - (0, 0)</span>\n\n            <label>Orientation</label>\n            <span className=\"orientation\">0</span>\n\n            <label>Max speed</label>\n            <input className=\"maxSpeed\" type=\"number\" min=\"0\" max=\"50\" onChange={updateMaxSpeed} />\n\n            <label>Max rotation</label>\n            <input className=\"maxRotation\" type=\"number\" min=\"0\" max=\"50\" onChange={updateMaxRotation} />\n        </div>\n    );\n}\n","import { useEffect } from \"react\";\nimport { App } from \"../../models/app\";\nimport { CharacterControls } from \"./character-controls\";\nimport { useRerender } from \"../../util/hooks\";\n\nexport type ControlsProps = {\n    app: App\n};\n\nexport function Controls(props: ControlsProps) {\n    const { app } = props;\n    const rerender = useRerender();\n\n    /* eslint react-hooks/exhaustive-deps: \"off\" */\n    useEffect(() => {\n        let isMounted = true;\n        let lastStatus = app.isRunning;\n        requestAnimationFrame(triggerUpdate);\n\n        function triggerUpdate() {\n            if (!isMounted) return;\n\n            if (lastStatus !== app.isRunning) {\n                rerender();\n            }\n\n            lastStatus = app.isRunning;\n            requestAnimationFrame(triggerUpdate);\n        }\n\n        return () => {\n            isMounted = false;\n        }\n    }, []);\n\n    return (\n        <div style={{ padding: 'var(--s300)', backgroundColor: 'var(--main-bg-color)', color: 'var(--main-text-color)', fontSize: 'var(--s400)' }}>\n            <button disabled={app.isRunning} onClick={app.play}>Play</button>\n            <button disabled={!app.isRunning} onClick={app.pause}>Stop</button>\n            <button onClick={app.reset}>Reset</button>\n            <button onClick={app.step}>Step</button>\n\n            {app.characters.map((character) => (\n                <CharacterControls key={character.id} character={character} />\n            ))}\n        </div>\n    );\n}\n","import { useState } from 'react';\n\nexport function useRerender() {\n    const [, setCount] = useState(0);\n    return () => setCount((c) => c + 1);\n}\n","import styled from 'styled-components';\n\nexport const HeaderSection = styled.section`\n    margin: 2rem 0;\n    display: flex;\n    gap: 1rem;\n`;\n\nexport const BookCoverImg = styled.img`\n    max-height: 250px;\n`;\n\nexport const DemoSection = styled.section`\n    display: grid;\n    grid-template-columns: 1fr 35vw;\n    gap: 1rem;\n    margin: 2rem 0;\n`;\n\nexport const PlaygroundContainer = styled.div`\n    outline: 1px solid var(--main-bg-color);\n    background-color: var(--main-bg-color);\n    height: 400px;\n`;\n\nexport const ControlsContainer = styled.div`\n    border-radius: 4px;\n`;\n","import * as PIXI from \"pixi.js\";\nimport { v4 as uuid } from \"uuid\";\nimport { KinematicCharacter, Vector } from \"../types\";\nimport orientationCircle from '../assets/character-circle.png';\n\nexport enum Position {\n    CENTER,\n    LEFT,\n    TOP,\n    RIGHT,\n    BOTTOM,\n    TOP_LEFT,\n    TOP_RIGHT,\n    BOTTOM_LEFT,\n    BOTTOM_RIGHT\n}\n\nexport type CharacterOptions = {\n    avatarUrl: string,\n    size?: number,\n    hideRotation?: boolean\n};\nexport class Character implements KinematicCharacter {\n    public readonly id: string;\n    private _container: PIXI.Container;\n    private _avatar: PIXI.Sprite;\n    private _circle: PIXI.Sprite;\n    private _position: Vector;\n    private _orientation: number;\n    private _rotation: number;\n    private _velocity: Vector;\n    private _maxSpeed: number;\n    private _maxRotation: number;\n\n    constructor(options: CharacterOptions) {\n        this.id = uuid();\n        this._position = [0, 0];\n        this._orientation = 0;\n        this._rotation = 0;\n        this._velocity = [0, 0];\n        this._maxSpeed = 240;\n        this._maxRotation = 120;\n\n        this._container = new PIXI.Container();\n        this._avatar = PIXI.Sprite.from(options.avatarUrl);\n        this._circle = PIXI.Sprite.from(orientationCircle);\n\n        this._container.width = this._container.height = 256;\n        this._avatar.width = this._avatar.height = 150;\n        this._avatar.x = this._avatar.y = 128;\n        this._avatar.anchor.set(0.5, 0.5);\n        this._circle.width = this._circle.height = Math.sqrt(32768);\n        this._circle.x = this._circle.y = 128;\n        this._circle.anchor.set(0.5, 0.5);\n        this._circle.angle = 135;\n\n        if (options.hideRotation) {\n            this._circle.alpha = 0;\n        }\n\n        this._container.addChild(this._circle, this._avatar);\n        this._container.width = this._container.height = Math.floor(options?.size ?? 256);\n        this._container.x = this._container.y = 0;\n    }\n\n    get view() {\n        return this._container;\n    }\n\n    get position() {\n        return [\n            this._position[0] + this._container.width / 2,\n            this._position[1] + this._container.height / 2\n        ];\n    }\n\n    set position([x, y]) {\n        this.setPosition(x, y, Position.CENTER);\n    }\n\n    setPosition(x: number, y: number, position: Position) {\n        if ([Position.TOP, Position.CENTER, Position.BOTTOM].includes(position)) {\n            x -= this._container.width / 2;\n        }\n        else if ([Position.TOP_RIGHT, Position.RIGHT, Position.BOTTOM_RIGHT].includes(position)) {\n            x -= this._container.width;\n        }\n\n        if ([Position.LEFT, Position.CENTER, Position.RIGHT].includes(position)) {\n            y -= this._container.height / 2;\n        }\n        else if ([Position.BOTTOM_LEFT, Position.BOTTOM, Position.BOTTOM_RIGHT].includes(position)) {\n            y -= this._container.height;\n        }\n\n        this._container.x = x;\n        this._container.y = y;\n        this._position[0] = x;\n        this._position[1] = y;\n    }\n\n    get orientation() {\n        return this._orientation;\n    }\n\n    set orientation(orientation: number) {\n        this._orientation = (orientation % 360) + (orientation < 0 ? 360 : 0);\n        this._circle.angle = 360 - this._orientation + 135;\n    }\n\n    get velocity() {\n        return this._velocity;\n    }\n\n    set velocity(velocity: Vector) {\n        this._velocity = velocity;\n    }\n\n    get rotation() {\n        return this._rotation;\n    }\n\n    set rotation(rotation: number) {\n        this._rotation = rotation;\n    }\n\n    get maxSpeed() {\n        return this._maxSpeed;\n    }\n\n    set maxSpeed(maxSpeed: number) {\n        this._maxSpeed = maxSpeed;\n    }\n\n    get maxRotation() {\n        return this._maxRotation;\n    }\n\n    set maxRotation(maxRotation: number) {\n        this._maxRotation = maxRotation;\n    }\n\n    get size() {\n        return this._container.width;\n    }\n\n    set size(size: number) {\n        this._container.width = this._container.height = size;\n    }\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAaBElEQVR4nO2dDdSmY7XH/3tMRKNQGhWH4/uQfBzEGbGKKPJxpERKUlqJmhU1WDU+l0OHTlE6kSbTRDQkRIN0DHMw5ONMg2aaaWSKoQxGZoaZ2Wftmf3qmXfer+e59nV/PPf/t9a1eOd9n31f931d+/9c9/WxtwBQEAIsBLAIwBIAC/z/nwPwNwB/bSn28zwAf/SyiM+uvlAASCpPAZjjxQRhOoDHADzuokIqDAWA5GIpgBkAHgbwIICpAH4L4O984tWBAkCKxF4vfgfgLgCT/b/z2ALlQQEgZWOvDLd5+R8AL7NFioMCQKqETSjeAeBGL39m6+SFAkCqyjIAdwO4GsB1AJ5mS8VDASB1YKnPGZgY/MyXJ0kAFABSN+w14VoAl7kosP8mQAEgdcaWGS8H8CMAz7Al24cCQLqBVwBcA+BC33dAhggFgHQbtwO4AMCt7NuDQwEg3co0F4IrfQMS6QMKAOl2ZgE4B8AECsGqUABIU5gJYKzPFSxjq6+AAkCahk0SngrgV2x5CkC3MNfLX3zHnB2wedbP8M8H8Lyf8X/J99ov9pnzpX7/qwFYHcAaANYCMALA2gDWAbAugLcAWB/ASAAbAHg7gA291BUTgJMAPNrkjkMBqA9L/Iz97304O8vL8rP4qlpoO4qI9Z1NvGzmZQsAWwHYGsDwGjxZe6b/DeDrLpKNgwJQXczJH/HZbCvTVXVGHSouIlsC2BbAdl62d3GoKjZSOhnA+Kb5AwWgOpjD3w/gAS8PqepL3XBjImKvFDsC2NnLLhUVBDuJeJyPrBoBBaA87B18ipd7ANyrqo045CIi6wHYDcDuAEZ5Wb0CVYOHMTsdwH81YdmQAlAs9o1+p5fJqnpfk26+P0Tk3QD2BLCXlxEVqJaFMfuMjcQqUJdsUACK4de+RfUOVZ3ahBvuFBHZFcD7AOwDYO+Sq/Oq7x34RrfuHaAA5MOWlyZ5ubXoWfq646sM+wLYz8s2Jd6Sjdg+CeBP3fF0/wEFIJ6bANxsRVWf6LabKwMR2RjA/l4+VFI1bJnwc76TsGugAMRgm25+AeAGVb2xG26oqojIgQAOAnCwb04qmnEATuiW4KUUgDRme7y661V1Sp1vpG6IiK0cHALgUACbFlx9C21+mG/KqvdzpAB0hG3ImWhFVbt6lrjqiMiO7oxWtiywui8C+BSAn9fzya2AAtAesz0w5TWqysgzFUJEdgDwUQCHFzgiUD9qfEZdVwkoAEPjWQ8scRXX7quN7yk4AsCRBc4R2CjgE3VMe0YBGBwLJDFBVSdVvaLkH4iILR0e5aUIpvrEZK3yF1AA+sf2hV+hquOrWkEyOCJi6/dH++ai3PzRlylrc8SYArAqc3ypZ5yqPlm1ypH2EZGNABzjZZPMj9DiL3wYwG/q0FQUgJWx9/zLVfWOKlWKxCAiNgo41ucHcvKKrxBcVfWmowCswIZsl1q2GVVldtouRkQs4tFn/dhvzu3FtirwBQ84UlkoACsm+b6vqndXoC6kIERkD9/am3uS8BQA51e1XZssALZP/xIr3RJ4g7SHByo53svGGR+fnSg8u4rN01QBsICQ31HVX1agLqRkROQA39//gYw1OcsDjVSKJgrARQAuVtU/VKAupCKIyOYATgTwxYw1Ot2FoDr33SABsOW9b6nqtytQF1JRRORLAEZnXC4c4wFGKkFTBOAuAN9U1esrUBdScUTEThl+GcB7MtXU5hy+V4Wn0AQBsMM7F6rq/RWoC6kJIrKLJw45PEONl3qEoSvLfhrdLgD2vn8Bd/SRTvAdhCdnmhewzUIf9C3npdGtAvCyr72er6qLK1AfUlNEZA1/bx/jadMiecFfM6aV9XS6UQCeAnCeql5UgbqQLkFEvuibet4WfEdzPT/C3DKeVLcJgC3tnauq4ypQF9JliIgdJjoNwObBdzbNE6UUvg19WNEXzIjFafsanZ/kwvvW17yvRbKdTwhK0Y3XLQJgcfnGqurVFagL6WK8j43NkDHoYLdbKN3wCmApnM5gOG5SJB6e3GIB7hR42WUeUOSWom6l7gJgKnw6nZ+UgYvAmZ75OIr5nkF5dhG3VOdXAHsPO5vOT8rC+97ZwXMC6wK4NsOSY5/UVQBstv8cVa11THZSf7wPnuN9MgoLcf7dIh5OHQXgKV/q44QfqQTeF8/1vhmFhRT7eO77q9scgK2TnspNPqSK+Gah/wgcvi8A8K8AZua63bqNAM6n85Oq4n0zMvzX2gB+DGB4rluukwBEP1xCcnC+99Uo3u27D7NQl1cAe8f6Ck/1kTrgpwj/M/Ao8au+VfjB6NuvwwjgLj/PT+cntcD76oXedyN4HYAf5HgVqLoAzPFIPgzmQWqF99lveh+OYEcPUBJK1V8BRjOGH6kzHmPwW0G3sBDAuyL3HFR5BHARnZ/UHe/DUZOCa3oGq7BTg1UVAIvbf3EF6kFIBBd7n47gvZ7kNIQqCsATnrSDcftJV+B9+TvetyOwzUZvjDBURQG4hBl7SLfhffqSoNt6a1TsgKpNAlqizs8zVx/pRjwX4feCEpIu9khCSduEqzQCeNSz9NL5SVfiffv73tdTsWjFF6QaqZIAXMoU3aTb8T5+adBtHgRg3xQDVREAC4h4WQXqQUgRXBaYFei8lGXBKgiA7ZS6XFULD4lMSBl4X788aJeg7RA8tNMPV0EAxqlqqemRCCka7/NRIezP7NSXyxaAyIdASN0YF5QbcNtOTx6WLQBX8JQfaSre968Iuv0zOjktWKYATFDV8SVen5DScR+YEFCPLQF8rN0PlSUAzwbdNCHdwAT3iVTGtLsiUJYAXKmqk0q6NiGVwn0hYlnwne3uCyhDACzjyVUlXJeQKnNVUDagL7fzx2UIwNWqel8J1yWksrhPROS62LedVGVFC8AMANcUfE1C6sI17iOpjB7q54sWgImq+nDB1ySkFrhvTAyoq60GjBzKHxYpALODbo6QbmZiwFzA6p5abFCKFIDrVPWhAq9HSO1wH7kuoN6fHsqSYFECYGuc1xd0LULqzvUB+wJsY9Ceg/1RUQLwC1WdUtC1CKk17iu/CLiH4wb7g6IE4IaCrkNItxDhM3ZMeL2B/qAIAbhJVW8s4DqEdA3uMzcl3s/rBzslWIQA3FzANQjpRiJ858iBfplbAB6lABDSMTcHBBAdBWDj/n6ZWwAmqWpUMgRCGoX7TuqhOVsK/Eh/v8wuAJntE9LtRPjQh/v7Rc7EIL8G8H5VrXL2YUIqjYiYj94GYO+EepoP/hOAub1/kXMEcDudn5A03IduTzRjInJgX7/IJQAvBQU7JISs8KXUjFl9BgrJJQB3qurUTLYJaRTuS3cm3vM+fkhoJbIJQCa7hDSVVJ8a4UuCK5FDAF4BMDmDXUKazGT3rRT27/3ZHAIwhSG/CInFfSr1QN1+vf8hiwBksEkISfet7XpHCsohAPdksEkIifGtvVp/iBaAmQDuDbZJCFnBve5jKawUJCRaAO5X1efYWITE4751f6LhPVp/iBaAB4LtEUJifeydviS4HAoAIfUi1cdWA7BTzw+RAmDvJoz6S0heHgqYB9i1538iBeARVU3dr0wIGQD3sUcSn1GWEcC0QFuEkHy+9lruQAoAIfUj1de2ALAmAgVgCYDpQbYIIQMz3X2uU2wicGsECsDjqhqR1ZQQMgjua48nPqdtECgAvw+yQwgpxue2RaAApC5LEEKK9blNESgAs4LsEEKK8TlLHkoBIKSmpPrcZggUgDlBdgghxfjcGwGsEyEAcykAhBTOnL7i/LfJRiECwPj/hBSL+1wlBOAvRd88IWQ5qb63QYQAPB1ggxDSPqm+t16EAMwLsEEIaZ9U31s/QgCeDbBBCGmfVN97c4QA/DXABiGkfVJ9L0QA5gfYIIS0T6rvhQjA8wE2CCHtk+p7IRuBFgTYIIS0T6rvvSlCABgHkJBySPW9NSIE4OWy7p6QhpPqe6+PEIDFTW8FQkoi1feGRwhAas5yQkhnpPreGyIEYGmADUJI+yT7Xo704ISQmhAhAKuxsQkphWTfGxYwk7g6256QUkj1vb+bALyaaGQNtj0hpZDqe0uGBSwlrMW2J6QUUn1vkQnAokQjI9j2hJRCqu8tNgF4MdHI2mx7Qkoh1fdeGBZwoGAdtj0hpZDqey8NCzhSuC7bnpBSSPW95yME4C1se0JKIdX35psAPJNoZH22PSGlkOp7zw4LCCw4km1PSCmk+t5yAUiNLb4B256QUkj1vadNAJ5KNPJ2tj0hpZDqe8sF4MlEIxuKiLD9CSkO97kNEy/4ZIgAANiEbU9IoWwSIAB/6lkGfCHREAWAkGJJ9bkXe/YBGLMSjW1W9N0T0nBSfW65z/cIwMxEYxQAQool1eeW+3yPAMxONLZFwTdPSNNJ9bmVRgCPJhrbqumtQUjBpPrcdLQIwGOJxrYWkS2LfgKENBH3ta0Tb335l37rCCAlxPBwANuyNxJSCNu6z3WK+frjaBGAhQBmJNZ8O7Y9IYWQ6msz3edXCgv+UKJRCgAhxZDqa6/5eqQAbC8ijA9ISEbcx7ZPvMKDPf/TKgBTE43assSOiTYIIQOzY8AS4P09/9MqAA9YnPBEwzsnfp4QktfHbALwtz0/tAqAZQh6JNE4BYCQvKT62O8sGGjPD71zA96TaHwXEVkv0QYhpA/ct3ZJfDZ3t/7QWwAmJxq3d5PdEm0QQvpmt4D3/5V8vLcA3Bnw4HcPsEEIyeNbK/l4bwGwCMHTEi8wKvHzhJA8vmW+Pa/1H3oLgPGrxIuMEpF3J9oghLTgPpUqAJN6/0NfAnBL4kUsZ/meiTYIISuzp/tWCjf3/mxfAjCldZmgQ/Zi4xESSqpPmU//b+9/7EsAXgFwe+LF9hKRXRNtEEJWDP93DRAA8+nFvf+xLwFAX+8KbWL7ld/HxiMkhPe5T6Vwa1+f7U8AbgKgiRfch/kCCEnDfWifRDPmyzf29Yv+BGAugPsSL7o3gH0TbRDSdPZ1X0rhPvfpVehPAIyJAQ9+v6a3HiGJRPjQtf39YjABSH0N2E9ENk60QUgjcd9JFQDz4Z/198uBBOAJXxJMYRsA+7P7EtIR+7sPpTDFfblPBhIA48qAdqMAENIZEb4zoA8PNktvxw//DOD1iZU4SFX7nIUkhKyKiBwI4IbER7MIwDsAPNffHww2ArAPXhfQPgcF2CCkSUT4zHUDOT+GIADGpQEVOVhEeEqQkCHgvnJwwLO6bLA/GIoATA7IGbA+gEMSbRDSFA5xn0lhxlDiewxFAGwZ4fKAB3+oiDBqMCED4D5yaMAz+uFQlvGHIgDGj/yQUAqbAjgs0QYh3c5h7ispvOI+OyhDFQCLFPTTgAd/mIjswC5MyKq4b0R8Sf60d+Sf/hiqABgXB1TMspp+NMAOId3IR91HUvnWUD/fjgA8EBA23DicIcMIWRn3icMDHstt7aT5a0cAjPPbr88q2PvNEQF2COkmjgh49zcubOeP2z2vL55ZJHV/8rMAPqGqqYFHCKk9ImIHfn4csPQ33TMHD/kQX7sjAA0aBdiNHhVgh5Bu4KgA54f7ZlsneDuJ2DMcwOMANuvgs705WlXHB9ghpJaIyCcBXBFQ99kAtmo3wW+7IwD4Bc7p4HN9cbSIbBRki5Ba4X3/6KA6n9NJdu9OBMCYAOAPHX62FQt2eEyAHULqyDFBwXNn+RxC23QqAKY0pwc98GNEhBGESaPwPh/15Te2k29/JAgAfLfRIwmf72ETAMeKyFoBtgipPN7Xj/W+n8ojKbt0UwRgGYAxQQ/7SACfDbJFSNX5rPf5CL7qvtgRKQIATyCSmky0h+NEZI8gW4RUEu/jxwXV7cb+En4MlVQBML7S6ftHL2xz0edEJDUDCiGVxPv25wI20sFP/J2UaiRCAGxn4CUBduAbIo4PskVI1Tg+cAOcHc6bmWokKnXXOh6BJGI3k4Uw/oKq/jLAFiGVQEQOAPBdABF5Mmwr/eYAXkw1FDECMJ4HcEqQLXtAJ4jI5kH2CCkV78snBDk/3NeSnR+BAmCMA3BXkK0PADgxyBYhZXOi9+kIfuO+FkJ09t5t/Czy6kH2Rqvqt4NsEVI4IvKldgJ0DMJCAO8K2oW7nMgRgPEogPMC7Y0WEUYTJrXE++7owLqfGen8yDACgH/7P+DnkiOw14qTVPX+DHUlJAsisosH53hPkH0bWe8atOT+GtEjAPj6pO1xfjXInj3Ak3hqkNQF76snBTq/Of1nop0fmQTA+G3gkWF4rLSTRWSNQJuEhON99OSg+H49mC89mKW+OYw6FjjkbgCRAUBPV9WzAu0REoqIjPV39SimAhiV49sfGUcA8ArbrqcFgTbHiMgXA+0REob3zagDcnDfOSqX8yOzAMBnLD8faM+OUZ4iIgwiQiqF98lTvI9G8YWI7b4DkVsAjJ8ExTzr4W0AThORyHcsQjrG++Jp3jejGN9plJ92yDkH0Iqp4hQAkWnB7BDSWFX9eaBNQtpCRP4dgM1LvTPwyVmQj38D8HLu1ihiBAC/kQ8DmB9o0x7410XkwECbhAwZ73tfD3b++Z4dOLvzo0ABgIct/nhK9JI+sFTKZ1AESNF4nzvD+2AUy9xHZhd1O0UKgHGLD5ci2cmWXXwoRkh2vK+d6X0vkrPcRwqjqDmAVuya1wM4KNiuzQmco6pXB9sl5DV8wu9rwcN+4wYAh7Sb2SeVMgQAPil4R/AmIfiy47mqGnZckpAefKnvNA/GEcl9nh+gkPf+VsoSAHj0INveuGGw3afsRKKqXhRslzQY3+RzSvBSnzEXwM4A5pXxdMsUAPiJQTvt96Zguy97osTzVXVxsG3SIHxv/xgv0bkrXvADQ9PKeqJlCwB86HNLYBCRVmwUcIGqPpnBNuly/FSfHezJsf3cTs1+0F+FS6MKAmB8zPMNrpbBtk0KXsh4AqQd/Dz/ScGn+npY6nv8O87oE0VVBMD4NIAfZKqTvWZ8U1Wvz2CbdBkeyefLgef5W1E/2//DKjy14RWoQw/2QCxxQo4YgNaQG4nIxowxSAbCY/iNDsrb1xejq+L8VeVUV8lcxQRgc1UFC0tP8aW9b2fue6c23bmHylmZG8ImHQ+gA7C48x/gfSJnn2MgmzYZm7lB5nhm1RF0hGYWf+X8qveFnH1tbJ0cr0qckrlh1M9c79F0Z2hasTb3ts/dvyo97K/SKkB/WESh72Q+uGT5DC4FcJmqFr4dkxSHiKzl+fktRXdElt7+WObpwL5X5eatgwAYR3o6pBybhVq5EsDlqlrq5gySBxGxTWfHen/KiYXE/5T3p0pTFwEw9gYw0TMR52SOi8047iDsDnxH3zFeci3v9bDAg9/cVoeHVycBMLYFcFMBjQjfonmFqo4v4FokEyLySQBH+5bz3DwNYH/P4lML6iYAxgZ+dnqXgq5nW5QnqOqkgq5HAhCR/Xy77VEFPc+HARzop/tqQx0FwHiDO2ZRiUOf9fe5q1T1voKuSTpARCzGxBH+nr9+Qc/wBg/l9RLbrDhsVeBsn23NvZTTU2ZZwBGLbtz0ZbSqFY84fa63UVH9YZn3waJD64VR1xFAK4d63oERBV5zhk9ITlTV2rzvdSMiYkE5D/OyZYG3+JLP9F9b58faDQJgbA3gZxnitA2GRW+9zmIcquqUgq/daERklL8C2hfApgU/C4s/+REAjze9HaqEbfD4UYHDv9byjG0iskmgpg/FcxefaLvMn3kZbT0+Q2Sg0uiWEUArH/PdV7n3C/SHLVPebEVVnyipDl2FHeP25TUrHyrp3hZ4rr7s6bqKpBsFwPgnV+q9SqyDbS+e5OVW9a8vMjRExPrmvgD285Jz2+5g2MrPJ3In6iyDbhUA+MzsGE/g8LqS6/JrALfb5iJVnVpyXSqNiOzqm3b28d2fZbLEZ/nPzZmiu0y6WQB62MlDjUWmcOoUmzm+08tk7ilYga/d7+kjtr0KXtHpj4f93MCDFahLNpogAPDQZxbg8XQAa1agPvCosFO83APgXlV9rgL1yo6IrAdgNwC7AxjlJfdBr6Gy0EeNF3brt34rTRGAHjb3Y7/vrUZ1VsLeLy1y8QNeHlLVrthZJiIjfAS2sxfbxr1FBarWm9/4MeE/VKta+WiaAMDv2SIQnwfgLRWoT3/M9Dzx07xMV9UZ1azqyojIln5wazsv21fU4Xv4qwef+aEv9TWGJgpAD+t4kscTKzT8HIglvvHk9y4Os7zY8eU5Ra8y+Cz9Jl4282JOvpVvzKpSxOn+sNewiy2pLIDnq1nFvDRZAHqw14JvAKhzevG5Xv7iR1Ln+QEm+2ab7517gU9CWsSjxd75l/rnV3MRXMM3udiQfW0XyXV9pGQHa0b6acy3e07H6LyORWI5Ir7SpOE+GZgP+MxvGbvLWIorD3tbNx6yKsP8KOlMOmTXlZl+RLi2J/dIcQz38FFFHi1lyVNmeyquOsxJkIox3MNJTadz1q78n7cdHZ8kY8PGgwHcTceqfLnNzw5wgptkwTax/MRn0ZvubFUpr/gpvR3Y5UlRjPTDRpwwLK/M9DYYyV5PykJ8a7EFKV1Ep8xeFvkI7L0c5pOqsZ6nMrvDd+413VmjyhLfp/95f8aEVJ4NPDfcXb7jrulO3G5Z6s/uBH+WhNSWd/i3181+3LTpzt1fWejP6Hh/ZiQzfIcqnrX8/fX9XsoMdVUFHvWlu9t8mM/szAVCASift7YExdjdlxnLDmGWi1c95sE9LcFQnunOW60HFIDqsaYHzdjNg2js4AkvVqvZfSz1BCoPe7LMez3QycIK1I04FIB6sKafsbcgG/8C4J9bzuK/reQ7eKonJgGAPwJ4zIf1j9HZqw8FoP6s2SIII1vO7r+5V7Gz/m/ybc1v7DWi6IkRAI8doP7z33qVnhgD81ocnk5eVwD8P8pJfpM0DcBbAAAAAElFTkSuQmCC\"","import * as PIXI from 'pixi.js';\nimport { App } from \"../models/app\";\nimport { Character, Position } from '../models/character';\nimport { length, normalize, sub, vectorAsOrientation } from '../util/vectors';\n\ntype MouseDragEvent = PIXI.InteractionEvent & {\n    isDragging: boolean;\n};\n\nexport class BaseApp implements App {\n    protected _isRunning: boolean = false;\n    protected _pixiApp: PIXI.Application | null = null;\n    protected _characters: Character[];\n    protected _scale: number = 0.1;\n\n    constructor() {\n        this._characters = [];\n    }\n\n    get isRunning() {\n        return this._isRunning;\n    }\n\n    get characters() {\n        return this._characters;\n    }\n\n    play = () => {\n        if (this._isRunning) return;\n        this._isRunning = true;\n    }\n\n    pause = () => {\n        if (!this._isRunning) return;\n        this._isRunning = false;\n    }\n\n    reset() {}\n\n    step = () => {\n        this.pause();\n\n        let stepSize = 0.25;\n        this.tick(stepSize, true);\n    }\n\n    protected tick(delta: number, force: boolean = false) {}\n    private tickWrapper = (delta: number) => {\n        // delta is in ms , but we want calculations to be in seconds\n        //this.tick(delta);\n        this.tick(this._pixiApp!.ticker.elapsedMS / 1000);\n    }\n\n    registerPixiApp = (pixiApp: PIXI.Application) => {\n        if (this._pixiApp) throw new Error('App is already registered to a PIXI App');\n        this._pixiApp = pixiApp;\n\n        for( let character of this._characters) {\n            character.size = pixiApp.screen.width * this._scale;\n            pixiApp.stage.addChild(character.view);\n        }\n\n        this.postRegister(pixiApp);\n\n        this.reset();\n        this._pixiApp.ticker.add(this.tickWrapper);\n    }\n\n    protected postRegister = (pixiApp: PIXI.Application) => {}\n\n    unregisterPixiApp = () => {\n        if (!this._pixiApp) throw new Error('App is not registered to a PIXI App');\n        this._pixiApp.ticker.remove(this.tickWrapper);\n        this._pixiApp = null;\n    }\n\n    protected makeInteractable(character: Character) {\n        const self = this;\n        const container = character.view;\n        container.interactive = container.buttonMode = true;\n        container\n            // events for drag start\n            .on(\"mousedown\", onDragStart)\n            .on(\"touchstart\", onDragStart)\n            // events for drag end\n            .on(\"mouseup\", onDragEnd)\n            .on(\"mouseupoutside\", onDragEnd)\n            .on(\"touchend\", onDragEnd)\n            .on(\"touchendoutside\", onDragEnd)\n            // events for drag move\n            .on(\"mousemove\", onDragMove)\n            .on(\"touchmove\", onDragMove);\n\n        function onDragStart(event: MouseDragEvent) {\n            event.isDragging = true;\n        }\n\n        function onDragEnd(event: MouseDragEvent) {\n            event.isDragging = false;\n        }\n\n        function onDragMove(event: MouseDragEvent) {\n            if (event.isDragging) {\n                if (self._pixiApp) {\n                    const newPosition = event.data?.getLocalPosition?.(self._pixiApp.stage);\n                    let targetDirection = sub([newPosition.x, newPosition.y], character.position);\n\n                    if (length(targetDirection) > 0.001) {\n                        targetDirection = normalize(targetDirection);\n                        const targetOrientation = vectorAsOrientation(targetDirection, character.orientation);\n                        character.orientation = targetOrientation;\n                    }\n                    \n                    character.setPosition(newPosition.x, newPosition.y, Position.CENTER);\n                }\n            }\n        }\n    }\n}\n","import { KinematicCharacter } from \"../types\";\nimport { orientationAsVector, normalize, sub, mult, div, vectorAsOrientation, length } from \"./vectors\";\nimport { getPreferredRotationDirection } from \"./angles\";\nimport { randomBinomial } from \"./random\";\n\nexport function wander(character: KinematicCharacter) {\n  let { maxSpeed, maxRotation } = character;\n  let direction = orientationAsVector(character.orientation);\n  let linear = mult(direction, maxSpeed);\n  let angular = randomBinomial() * maxRotation;\n\n  return {\n    linear,\n    angular\n  };\n}\n\nexport function seek(character: KinematicCharacter, target: KinematicCharacter) {\n  let { maxSpeed } = character;\n  let direction = normalize(sub(target.position, character.position));\n  let linear = mult(direction, maxSpeed);\n  let angular = 0;\n\n  return {\n    linear,\n    angular\n  };\n}\n\nexport function seekWithRotation(character: KinematicCharacter, target: KinematicCharacter) {\n  let { maxSpeed, maxRotation, orientation } = character;\n  let direction = orientationAsVector(orientation);\n  let targetDirection = normalize(sub(target.position, character.position));\n  let targetOrientation = vectorAsOrientation(targetDirection, orientation);\n  let rotationDirection = getPreferredRotationDirection(orientation, targetOrientation);\n  let linear = mult(direction, maxSpeed);\n  let angular = maxRotation * rotationDirection;\n  \n  return {\n    linear,\n    angular\n  };\n}\n\nexport function flee(character: KinematicCharacter, target: KinematicCharacter) {\n  let { maxSpeed } = character;\n  let direction = normalize(sub(character.position, target.position));\n  let linear = mult(direction, maxSpeed);\n  let angular = 0;\n\n  return {\n    linear,\n    angular\n  };\n}\n\nexport function fleeWithRotation(character: KinematicCharacter, target: KinematicCharacter) {\n  let { maxSpeed, maxRotation, orientation } = character;\n  let direction = orientationAsVector(orientation);\n  let targetDirection = normalize(sub(character.position, target.position));\n  let targetOrientation = vectorAsOrientation(targetDirection, orientation);\n  let rotationDirection = getPreferredRotationDirection(orientation, targetOrientation);\n  let linear = mult(direction, maxSpeed);\n  let angular = maxRotation * rotationDirection;\n  \n  return {\n    linear,\n    angular\n  };\n}\n\nexport type ArriveOptions = {\n  stopRadius: number;\n  timeToTarget: number;\n};\nexport function arrive(character: KinematicCharacter, target: KinematicCharacter, options: ArriveOptions) {\n  const { maxSpeed } = character;\n  const { stopRadius, timeToTarget } = options;\n  let direction = sub(target.position, character.position);\n  let distance = length(direction);\n  let linear = div(mult(normalize(direction), maxSpeed), timeToTarget);\n  let angular = 0;\n\n  if (distance <= stopRadius) {\n    linear = [0, 0];\n  }\n\n  if (length(linear) > maxSpeed) {\n    linear = mult(normalize(linear), maxSpeed);\n  }\n\n  return {\n    linear,\n    angular\n  };\n}\n\nexport function arriveWithRotation(character: KinematicCharacter, target: KinematicCharacter, options: ArriveOptions) {\n  const { maxSpeed, maxRotation, orientation } = character;\n  const { stopRadius, timeToTarget } = options;\n\n  let targetDirection = sub(target.position, character.position);\n  let distance = length(targetDirection);\n  let direction = normalize(orientationAsVector(orientation));\n  let targetOrientation = vectorAsOrientation(normalize(targetDirection), orientation);\n  let rotationDirection = getPreferredRotationDirection(orientation, targetOrientation);\n  let linear = div(mult(normalize(direction), maxSpeed), timeToTarget);\n  let angular = maxRotation * rotationDirection;\n\n  if (distance <= stopRadius) {\n    linear = [0, 0];\n  }\n\n  if (length(linear) > maxSpeed) {\n    linear = mult(normalize(linear), maxSpeed);\n  }\n  \n  return {\n    linear,\n    angular\n  };\n}\n","export function randomBinomial() {\n    return Math.random() - Math.random();\n}\n\nexport function clamp(value: number, min: number, max: number) {\n    return Math.min(Math.max(value, min), max);\n}\n","import { Character } from \"../models/character\";\nimport { Steering, KinematicCharacter, Vector } from \"../types\";\nimport { clamp } from \"./random\";\nimport { add, mult, normalize, length } from \"./vectors\";\n\nexport function standardKinematicUpdate(delta: number, steering: Steering, character: KinematicCharacter) {\n    let half_t_sq = 0.5 * delta * delta;\n    character.position = add(\n        character.position,\n        add(\n            mult(character.velocity, delta),\n            mult(steering.linear, half_t_sq)\n        )\n    );\n    character.orientation += character.rotation * delta + steering.angular * half_t_sq;\n\n    character.velocity = add(character.velocity, mult(steering.linear, delta));\n    character.rotation += steering.angular * delta;\n}\n\nexport function newtonEuler1Update(delta: number, steering: Steering, character: KinematicCharacter) {\n    character.position = add(\n        character.position,\n        mult(character.velocity, delta)\n    );\n    character.orientation += character.rotation * delta;\n\n    character.velocity = add(character.velocity, mult(steering.linear, delta));\n    character.rotation += steering.angular * delta;\n}\n\nexport function kinematicUpdate(delta: number, steering: Steering, character: KinematicCharacter) {\n    character.position = add(character.position, mult(character.velocity, delta));\n    character.orientation += character.rotation * delta;\n\n    character.velocity = steering.linear;\n    character.rotation = steering.angular;\n}\n\nexport function clampKinematics(character: Character) {\n    if (length(character.velocity) > character.maxSpeed) {\n        character.velocity = mult(normalize(character.velocity), character.maxSpeed);\n    }\n\n    character.rotation = clamp(character.rotation, -character.maxRotation, character.maxRotation);\n}\n\nexport function keepOnScreenWithSeamless(character: KinematicCharacter, size: Vector) {\n    if (character.position[0] > size[0]) character.position = [0, character.position[1]];\n    if (character.position[0] < 0) character.position = [size[0], character.position[1]];\n    if (character.position[1] > size[1]) character.position = [character.position[0], 0];\n    if (character.position[1] < 0) character.position = [character.position[0], size[1]];\n}\n\nexport function keepOnScreenWithBlock(character: KinematicCharacter, size: Vector, padding: number = 0) {\n    const left = padding;\n    const right = size[0] - padding;\n    const top = padding;\n    const bottom = size[1] - padding;\n    if (character.position[0] > right) character.position = [right, character.position[1]];\n    if (character.position[0] < left) character.position = [left, character.position[1]];\n    if (character.position[1] > bottom) character.position = [character.position[0], bottom];\n    if (character.position[1] < top) character.position = [character.position[0], top];\n}\n","export default __webpack_public_path__ + \"static/media/spidy-avatar.29f948a6.png\";","import { BaseApp } from './base-app';\nimport { Position, Character } from '../models/character';\nimport { wander } from \"../util/steering\";\nimport { kinematicUpdate, keepOnScreenWithSeamless, clampKinematics } from \"../util/update\";\nimport avatarUrl from '../assets/spidy-avatar.png';\n\nexport class WanderApp extends BaseApp {\n    private _spidy: Character;\n\n    constructor() {\n        super();\n        this._spidy = new Character({ avatarUrl });\n        this._characters = [this._spidy];\n    }\n\n    reset = () => {\n        this._spidy.setPosition(0, 0, Position.TOP_LEFT);\n        this._spidy.orientation = 0;\n        this._spidy.velocity = [0, 0];\n        this._spidy.rotation = 0;\n    }\n\n    tick = (delta: number, force: boolean = false) => {\n        if (!this.isRunning && !force) return;\n\n        let steering = wander(this._spidy);\n        kinematicUpdate(delta, steering, this._spidy);\n        clampKinematics(this._spidy);\n        keepOnScreenWithSeamless(this._spidy, [this._pixiApp!.screen.width, this._pixiApp!.screen.height]);\n    }\n}\n","import bookCover from '../../assets/book-cover.jpg';\nimport { Playfield } from '../../components/playfield';\nimport { Controls } from '../../components/controls';\nimport {\n    HeaderSection,\n    BookCoverImg,\n    DemoSection,\n    PlaygroundContainer,\n    ControlsContainer\n} from './landing.css';\nimport { useState } from 'react';\nimport { WanderApp } from '../../apps/wander-app';\n\nexport interface LandingPageProps {}\n\nexport function LandingPage(props: LandingPageProps) {\n    const [wanderApp] = useState(() => new WanderApp());\n\n    return (\n        <main>\n            <HeaderSection>\n                <header>\n                    <h1>AI for Games</h1>\n                    <p>\n                        To better understand the algorithms presented in this phenomenal book, \n                        I put together this interactive site of visuals that let you explore, \n                        compare, and evaluate each algorithm. Have fun!\n                    </p>\n                </header>\n                <BookCoverImg src={bookCover} alt=\"AI for Games book cover\" />\n            </HeaderSection>\n\n            <DemoSection>\n                <PlaygroundContainer>\n                    <Playfield app={wanderApp} />\n                </PlaygroundContainer>\n\n                <ControlsContainer>\n                    <Controls app={wanderApp} />\n                </ControlsContainer>\n            </DemoSection>\n        </main>\n    );\n}\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Grid = styled.section`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 2rem 1rem;\n`;\n\nexport const AlgorithmCard = styled.article`\n    background-color: var(--main-bg-color);\n    color: var(--main-text-color);\n    border-radius: 4px;\n    padding: 0.75rem 1.25rem;\n    margin-bottom: 1rem;\n`;\n\nexport const CardLink = styled(Link)`\n    color: var(--main-text-color);\n    text-decoration: none !important;\n`;\n","export const KinematicWander = {\n    url: 'kinematic-wander',\n    title: 'Wander',\n    details: 'A simple algorithm that moves a character around the playfield at max speed. No destination is set and their orientation is given a chance to update each frame.',\n    code: `velocity = maxSpeed * orientationAsNormalizedVector;\nrotation = maxRotation * randomBinomial(); // [-maxRotation, maxRotation]`\n};\n\nexport const KinematicSeek = {\n    url: 'kinematic-seek',\n    title: 'Seek',\n    details: 'A simple algorithm for seeking after a target. The character remains at a constant max velocity with no additional logic around speeding up from a stopped position, or slowing down once a destination becomes increasingly closer.',\n    code: ''\n};\n\nexport const KinematicFlee = {\n    url: 'kinematic-flee',\n    title: 'Flee',\n    details: 'A simple algorithm for fleeing from a target. The character remains at a constant max velocity with no additional logic around speeding up from a stopped position, or slowing down once a destination becomes increasingly closer.',\n    code: ''\n};\n\nexport const KinematicArrive = {\n    url: 'kinematic-arrive',\n    title: 'Arrive',\n    details: 'A simple algorithm for seeking after a target. The character remains at a constant max velocity with no additional logic around speeding up from a stopped position, or slowing down once a destination becomes increasingly closer.',\n    code: ''\n};\n\nexport const DynamicSeek = {\n    url: 'dynamic-seek',\n    title: 'Seek',\n    details: 'An algorithm for dynamically seeking a target using acceleration to adjust velocity instead of a constant velocity.',\n    code: ''\n};\n\nexport const KinematicSection = {\n    title: 'Kinematic',\n    articles: [\n        KinematicWander,\n        KinematicSeek,\n        KinematicFlee,\n        KinematicArrive\n    ]\n};\n\nexport const DynamicSection = {\n    title: 'Dynamic',\n    articles: [\n        DynamicSeek\n    ]\n};\n\nexport const Data = {\n    sections: [\n        KinematicSection,\n        DynamicSection\n    ]\n};\n\nexport default Data;\n","import React from 'react';\nimport { Grid, AlgorithmCard, CardLink } from './explore.css';\nimport Data from './explore.data';\n\nexport function ExplorePage() {\n    return (\n        <>\n            <h1>Explore</h1>\n\n            {Data.sections.map((section, i) => (\n                <React.Fragment key={i}>\n                    <h2>{section.title}</h2>\n                    {section.articles.map((article, j) => (\n                        <CardLink key={j} to={`explore/${article.url}`}>\n                            <AlgorithmCard>\n                                <Grid>\n                                    <div>\n                                        <h3>{article.title}</h3>\n                                        <p>{article.details}</p>\n                                    </div>\n                                    <div>\n                                        <div style={{ height: '350px' }}>\n                                            \n                                        </div>\n                                    </div>\n                                </Grid>\n                            </AlgorithmCard>\n                        </CardLink>\n                    ))}\n                </React.Fragment>\n            ))}\n        </>\n    );\n}\n","export function PlaygroundPage() {\n    return (\n        <h1>Playground</h1>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/villain-avatar.94a91a77.png\";","import { BaseApp } from './base-app';\nimport { Position, Character } from '../models/character';\nimport { seek, seekWithRotation } from \"../util/steering\";\nimport { kinematicUpdate, clampKinematics } from \"../util/update\";\nimport spidyAvatarUrl from '../assets/spidy-avatar.png';\nimport villainAvatarUrl from '../assets/villain-avatar.png';\n\nexport class SeekApp extends BaseApp {\n    protected _spidy: Character;\n    protected _villain: Character;\n\n    constructor() {\n        super();\n        this._spidy = new Character({ avatarUrl: spidyAvatarUrl, hideRotation: true });\n        this._villain = new Character({ avatarUrl: villainAvatarUrl, hideRotation: true });\n        this.makeInteractable(this._villain);\n        this._characters = [this._spidy, this._villain];\n    }\n\n    reset = () => {\n        this._spidy.setPosition(0, 0, Position.TOP_LEFT);\n        this._spidy.orientation = 0;\n        this._spidy.velocity = [0, 0];\n        this._spidy.rotation = 0;\n        this._villain.setPosition(this._pixiApp?.screen.width ?? 0, this._pixiApp?.screen.height ?? 0, Position.BOTTOM_RIGHT);\n        this._villain.orientation = 180;\n        this._villain.velocity = [0, 0];\n        this._villain.rotation = 0;\n    }\n\n    tick = (delta: number, force: boolean = false) => {\n        if (!this.isRunning && !force) return;\n\n        let steering = seek(this._spidy, this._villain);\n        kinematicUpdate(delta, steering, this._spidy);\n    }\n}\n\nexport class SeekWithRotationApp extends SeekApp {\n    constructor() {\n        super();\n        this._spidy = new Character({ avatarUrl: spidyAvatarUrl });\n        this._villain = new Character({ avatarUrl: villainAvatarUrl });\n        this.makeInteractable(this._villain);\n        this._characters = [this._spidy, this._villain];\n    }\n    \n    tick = (delta: number, force: boolean = false) => {\n        if (!this.isRunning && !force) return;\n\n        let steering = seekWithRotation(this._spidy, this._villain);\n        kinematicUpdate(delta, steering, this._spidy);\n        clampKinematics(this._spidy);\n    }\n}\n","import { BaseApp } from './base-app';\nimport { Position, Character } from '../models/character';\nimport { flee, fleeWithRotation } from \"../util/steering\";\nimport { kinematicUpdate, clampKinematics, keepOnScreenWithBlock } from \"../util/update\";\nimport spidyAvatarUrl from '../assets/spidy-avatar.png';\nimport villainAvatarUrl from '../assets/villain-avatar.png';\n\nexport class FleeApp extends BaseApp {\n    protected _spidy: Character;\n    protected _villain: Character;\n\n    constructor() {\n        super();\n        this._spidy = new Character({ avatarUrl: spidyAvatarUrl, hideRotation: true });\n        this._villain = new Character({ avatarUrl: villainAvatarUrl, hideRotation: true });\n        this.makeInteractable(this._villain);\n        this._characters = [this._spidy, this._villain];\n    }\n\n    reset = () => {\n        this._spidy.setPosition((this._pixiApp?.screen.width ?? 0) / 2, (this._pixiApp?.screen.height ?? 0) / 2, Position.CENTER);\n        this._spidy.orientation = 0;\n        this._spidy.velocity = [0, 0];\n        this._spidy.rotation = 0;\n        this._villain.setPosition(this._pixiApp?.screen.width ?? 0, this._pixiApp?.screen.height ?? 0, Position.BOTTOM_RIGHT);\n        this._villain.orientation = 180;\n        this._villain.velocity = [0, 0];\n        this._villain.rotation = 0;\n    }\n\n    tick = (delta: number, force: boolean = false) => {\n        if (!this.isRunning && !force) return;\n\n        let steering = flee(this._spidy, this._villain);\n        kinematicUpdate(delta, steering, this._spidy);\n        keepOnScreenWithBlock(this._spidy, [this._pixiApp!.screen.width, this._pixiApp!.screen.height], this._spidy.size * 0.75);\n    }\n}\n\nexport class FleeWithRotationApp extends FleeApp {\n    constructor() {\n        super();\n        this._spidy = new Character({ avatarUrl: spidyAvatarUrl });\n        this._villain = new Character({ avatarUrl: villainAvatarUrl });\n        this.makeInteractable(this._villain);\n        this._characters = [this._spidy, this._villain];\n    }\n    \n    tick = (delta: number, force: boolean = false) => {\n        if (!this.isRunning && !force) return;\n\n        let steering = fleeWithRotation(this._spidy, this._villain);\n        kinematicUpdate(delta, steering, this._spidy);\n        clampKinematics(this._spidy);\n        keepOnScreenWithBlock(this._spidy, [this._pixiApp!.screen.width, this._pixiApp!.screen.height], this._spidy.size * 0.75);\n    }\n}\n","import * as PIXI from 'pixi.js';\nimport { BaseApp } from './base-app';\nimport { Position, Character } from '../models/character';\nimport { arrive, arriveWithRotation, ArriveOptions } from \"../util/steering\";\nimport { kinematicUpdate, clampKinematics } from \"../util/update\";\nimport spidyAvatarUrl from '../assets/spidy-avatar.png';\nimport villainAvatarUrl from '../assets/villain-avatar.png';\nimport { Graphics } from 'pixi.js';\n\nexport class ArriveApp extends BaseApp {\n    protected _spidy: Character;\n    protected _villain: Character;\n    protected _stopCircle: Graphics;\n    protected _options: ArriveOptions;\n\n    constructor() {\n        super();\n        this._spidy = new Character({ avatarUrl: spidyAvatarUrl, hideRotation: true });\n        this._villain = new Character({ avatarUrl: villainAvatarUrl, hideRotation: true });\n        this.makeInteractable(this._villain);\n        this._characters = [this._spidy, this._villain];\n\n        let stopRadius = this._villain.size * this._scale * 1.5;\n        this._stopCircle = new Graphics();\n        this._stopCircle.width = this._stopCircle.height = stopRadius;\n        this._stopCircle.lineStyle(2, 0xff0000);\n        this._stopCircle.drawCircle(0, 0, stopRadius);\n\n        this._options = {\n            stopRadius,\n            timeToTarget: 0.1\n        };\n    }\n\n    protected postRegister = (pixiApp: PIXI.Application) => {\n        pixiApp.stage.addChild(this._stopCircle);\n    }\n\n    reset = () => {\n        this._spidy.setPosition(0, 0, Position.TOP_LEFT);\n        this._spidy.orientation = 0;\n        this._spidy.velocity = [0, 0];\n        this._spidy.rotation = 0;\n        this._villain.setPosition(this._pixiApp?.screen.width ?? 0, this._pixiApp?.screen.height ?? 0, Position.BOTTOM_RIGHT);\n        this._villain.orientation = 180;\n        this._villain.velocity = [0, 0];\n        this._villain.rotation = 0;\n        this._stopCircle.position.x = (this._villain.position[0] - this._stopCircle.width / 2);\n        this._stopCircle.position.y = (this._villain.position[1] - this._stopCircle.height / 2);\n        // TODO: Stop circle radius?\n    }\n\n    tick = (delta: number, force: boolean = false) => {\n        // update circle position to match villain position (even when paused because of drag interaction)\n        this._stopCircle.position.x = this._villain.position[0];\n        this._stopCircle.position.y = this._villain.position[1];\n\n        if (!this.isRunning && !force) return;\n\n        let steering = arrive(this._spidy, this._villain, this._options);\n        kinematicUpdate(delta, steering, this._spidy);\n        clampKinematics(this._spidy);\n    }\n}\n\nexport class ArriveWithRotationApp extends ArriveApp {\n    constructor() {\n        super();\n        this._spidy = new Character({ avatarUrl: spidyAvatarUrl });\n        this._villain = new Character({ avatarUrl: villainAvatarUrl });\n        this.makeInteractable(this._villain);\n        this._characters = [this._spidy, this._villain];\n\n        let stopRadius = this._villain.size * this._scale * 1.5;\n        this._stopCircle = new Graphics();\n        this._stopCircle.width = this._stopCircle.height = stopRadius;\n        this._stopCircle.lineStyle(2, 0xff0000);\n        this._stopCircle.drawCircle(0, 0, stopRadius);\n\n        this._options = {\n            stopRadius,\n            timeToTarget: 0.1\n        };\n    }\n    \n    tick = (delta: number, force: boolean = false) => {\n        // update circle position to match villain position (even when paused because of drag interaction)\n        this._stopCircle.position.x = this._villain.position[0];\n        this._stopCircle.position.y = this._villain.position[1];\n        \n        if (!this.isRunning && !force) return;\n\n        let steering = arriveWithRotation(this._spidy, this._villain, this._options);\n        // Change update function not steering function\n        kinematicUpdate(delta, steering, this._spidy);\n        clampKinematics(this._spidy);\n    }\n}\n","import { useParams } from 'react-router-dom';\nimport { WanderAlgorithm } from \"./wander-algorithm\";\nimport { SeekAlgorithm } from \"./seek-algorithm\";\nimport { FleeAlgorithm } from \"./flee-algorithm\";\nimport { ArriveAlgorithm } from \"./arrive-algorithm\";\n\nconst algMap = new Map([\n    ['kinematic-wander', WanderAlgorithm],\n    ['kinematic-seek', SeekAlgorithm],\n    ['kinematic-flee', FleeAlgorithm],\n    ['kinematic-arrive', ArriveAlgorithm]\n]);\n\nexport function AlgorithmPage() {\n    let { algorithm } = useParams<{ algorithm: string }>();\n    if (!algMap.has(algorithm)) return null;\n\n    const Algorithm = algMap.get(algorithm)!;\n    return (\n        <Algorithm />\n    );\n}\n","import { Playfield,  } from \"../../components/playfield\";\nimport { Controls } from \"../../components/controls\";\nimport { PlaygroundContainer, ControlsContainer } from \"../landing/landing.css\";\nimport { WanderApp } from \"../../apps/wander-app\";\nimport { useState } from \"react\";\n\nexport function WanderAlgorithm() {\n    const [wanderApp] = useState(() => new WanderApp());\n\n    return (\n        <>\n            <h1>Wander Algorithm</h1>\n            <p>\n                The kinematic wander moves the character in the direction they are facing at max speed while randomly rotating\n                the character somewhere between -maxRotation and +maxRotation. For this specific example, once the character \n                travels off screen, they'll be teleported to the opposite side to keep them in view.\n            </p>\n\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 350px', gap: '2rem' }}>\n                <PlaygroundContainer>\n                    <Playfield app={wanderApp} />\n                </PlaygroundContainer>\n\n                <ControlsContainer>\n                    <Controls app={wanderApp} />\n                </ControlsContainer>\n            </div>\n        </>\n    );\n}\n","import { Playfield,  } from \"../../components/playfield\";\nimport { Controls } from \"../../components/controls\";\nimport { PlaygroundContainer, ControlsContainer } from \"../landing/landing.css\";\nimport { SeekApp, SeekWithRotationApp } from \"../../apps/seek-app\";\nimport { useState } from \"react\";\n\nexport function SeekAlgorithm() {\n    const [seekApp] = useState(() => new SeekApp());\n    const [seekWithRotationApp] = useState(() => new SeekWithRotationApp());\n\n    return (\n        <>\n            <h1>Seek Algorithm</h1>\n            <p>\n                In its simplest form, the seek algorithm moves a character towards its target in a linear fashion.\n                Direct and at a constant speed. This causes a few interesting visuals. First, the character starts \n                movement abrubtly due to their speed being constantly at max speed. Second, the character struggles \n                to find a final position and \"vibrates\" at the destination. This is caused by the movement algorithm\n                overshooting the destination since its always moving at max speed. Try it out below (you can drag and \n                move the villain).\n            </p>\n\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 350px', gap: '2rem' }}>\n                <PlaygroundContainer>\n                    <Playfield app={seekApp} />\n                </PlaygroundContainer>\n\n                <ControlsContainer>\n                    <Controls app={seekApp} />\n                </ControlsContainer>\n            </div>\n\n            <h3>Seek Algorithm (with rotation)</h3>\n            <p>\n                In the previous algorithm, our character didn't consider rotation. Which means, they could travel \n                in any direction instantly. If their target were to teleport behind them, they would instantly \n                move in that direction without any decelleration or turn radius. This algorithm adds in the concept \n                of rotation. This means the character will have a max rotation setting, only being able to move \n                in their forward direction and turn up to X degrees per second. This brings new interesting visuals \n                such as the inability to reach certain targets when the max rotation is too high.\n            </p>\n\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 350px', gap: '2rem' }}>\n                <PlaygroundContainer>\n                    <Playfield app={seekWithRotationApp} />\n                </PlaygroundContainer>\n\n                <ControlsContainer>\n                    <Controls app={seekWithRotationApp} />\n                </ControlsContainer>\n            </div>\n        </>\n    );\n}\n","import { Playfield,  } from \"../../components/playfield\";\nimport { Controls } from \"../../components/controls\";\nimport { PlaygroundContainer, ControlsContainer } from \"../landing/landing.css\";\nimport { FleeApp, FleeWithRotationApp } from \"../../apps/flee-app\";\nimport { useState } from \"react\";\n\nexport function FleeAlgorithm() {\n    const [fleeApp] = useState(() => new FleeApp());\n    const [fleeWithRotationApp] = useState(() => new FleeWithRotationApp());\n\n    return (\n        <>\n            <h1>Flee Algorithm</h1>\n            <p>\n                Flee is the opposite of Seek. Characters will move in the opposite direction of their target.\n            </p>\n\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 350px', gap: '2rem' }}>\n                <PlaygroundContainer>\n                    <Playfield app={fleeApp} />\n                </PlaygroundContainer>\n\n                <ControlsContainer>\n                    <Controls app={fleeApp} />\n                </ControlsContainer>\n            </div>\n\n            <h3>Flee Algorithm (with rotation)</h3>\n            <p>\n                Similar to how Seek had two versions of the algorithm, Flee can also come in a rotation or non-rotation version.\n            </p>\n\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 350px', gap: '2rem' }}>\n                <PlaygroundContainer>\n                    <Playfield app={fleeWithRotationApp} />\n                </PlaygroundContainer>\n\n                <ControlsContainer>\n                    <Controls app={fleeWithRotationApp} />\n                </ControlsContainer>\n            </div>\n        </>\n    );\n}\n","import { Playfield,  } from \"../../components/playfield\";\nimport { Controls } from \"../../components/controls\";\nimport { PlaygroundContainer, ControlsContainer } from \"../landing/landing.css\";\nimport { ArriveApp, ArriveWithRotationApp } from \"../../apps/arrive-app\";\nimport { useState } from \"react\";\n\nexport function ArriveAlgorithm() {\n    const [arriveApp] = useState(() => new ArriveApp());\n    const [arriveWithRotationApp] = useState(() => new ArriveWithRotationApp());\n\n    return (\n        <>\n            <h1>Arrive Algorithm</h1>\n            <p>\n                With Seek, our characters are always traveling at max speed. \n                This resulted in our character jittering once it reached it destination.\n                The Arrive algorithm fixes this jittering by introducing a radius of acceptance \n                for when the character can be considered at the destination.\n            </p>\n\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 350px', gap: '2rem' }}>\n                <PlaygroundContainer>\n                    <Playfield app={arriveApp} />\n                </PlaygroundContainer>\n\n                <ControlsContainer>\n                    <Controls app={arriveApp} />\n                </ControlsContainer>\n            </div>\n\n            <h3>Arrive Algorithm (with rotation)</h3>\n            <p>\n                Once we introduce rotation, we notice that not only does our character jitter at its destination, \n                but it also travels in a snakey line as it over rotates due to traveling at max rotation. Once it \n                hits its destination, rather than jittering, it shoots past the target because its unable to turn \n                fast enough and can only move in the direction its facing, slowly rotating to face its target again. \n                The arrive algorithm doesn't solve the issue with traveling like a snake but it should prevent \n                shooting past the target as long as the max rotation is great enough to face the target before the \n                target is reached. We could introduce similar logic as a stop radius for the max rotation as well.\n            </p>\n\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 350px', gap: '2rem' }}>\n                <PlaygroundContainer>\n                    <Playfield app={arriveWithRotationApp} />\n                </PlaygroundContainer>\n\n                <ControlsContainer>\n                    <Controls app={arriveWithRotationApp} />\n                </ControlsContainer>\n            </div>\n        </>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/home.6660b146.svg\";","export default __webpack_public_path__ + \"static/media/explore.a600c9ed.svg\";","export default __webpack_public_path__ + \"static/media/playground.8b4ea41b.svg\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom';\nimport styled from 'styled-components';\nimport './index.css';\nimport { LandingPage, ExplorePage, PlaygroundPage, AlgorithmPage } from './pages';\nimport homeIcon from './assets/icons/home.svg';\nimport exploreIcon from './assets/icons/explore.svg';\nimport playgroundIcon from './assets/icons/playground.svg';\n\nconst LeftNavigation = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 80px;\n  background-color: var(--main-bg-color);\n`;\n\nconst Content = styled.div`\n  margin-left: 80px;\n`;\n\nconst NavIcon = styled.img`\n  width: 40px;\n`;\n\nconst NavLink = styled(Link)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.8rem;\n  color: var(--main-text-color);\n  text-decoration: none !important;\n  margin: 1.5rem 0;\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <LeftNavigation>\n        <NavLink to=\"/\">\n          <NavIcon src={homeIcon} alt=\"Go to Home page\" />\n          Home\n        </NavLink>\n\n        <NavLink to=\"/explore\">\n          <NavIcon src={exploreIcon} alt=\"Go to Explore page\" />\n          Explore\n        </NavLink>\n\n        <NavLink to=\"/playground\">\n          <NavIcon src={playgroundIcon} alt=\"Go to Playground page\" />\n          Playground\n        </NavLink>\n      </LeftNavigation>\n\n      <Content>\n        <Switch>\n          <Route exact path=\"/\">\n            <LandingPage />\n          </Route>\n          <Route exact path=\"/explore\">\n            <ExplorePage />\n          </Route>\n          <Route path=\"/explore/:algorithm\">\n            <AlgorithmPage />\n          </Route>\n          <Route exact path=\"/playground\">\n            <PlaygroundPage />\n          </Route>\n        </Switch>\n      </Content>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}